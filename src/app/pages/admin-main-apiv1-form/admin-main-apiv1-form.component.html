<div class="my-custom-form-container p-4 md:p-8 max-w-3xl mx-auto bg-gray-50 dark:bg-gray-900 rounded-lg shadow-lg">
  <h1 class="text-2xl font-bold text-center mb-6 text-gray-800 dark:text-gray-100">Mi Formulario Personalizado</h1>
  <form [formGroup]="myForm" (ngSubmit)="onActualFormSubmit()" novalidate>
    <div class="space-y-6">
      <div *ngFor="let fieldConfig of formStructure" class="field-wrapper">
        <app-form-input-manager
          [element]="fieldConfig"
          [control]="getControl(fieldConfig.key)!" [parentFormGroup]="myForm"
        ></app-form-input-manager>
      </div>
    </div>

    <div class="mt-8 pt-6 border-t border-gray-300 dark:border-gray-700 flex justify-end">
      <button
        type="submit"
        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed"
        [disabled]="myForm.invalid"
      >
        Enviar Formulario
      </button>
    </div>
  </form>
<!--
  <div *ngIf="myForm" class="mt-10 p-4 bg-gray-100 dark:bg-gray-800 rounded shadow">
    <h3 class="font-semibold text-gray-700 dark:text-gray-200">Debug: MyCustomFormComponent</h3>
    <div>
      <strong>VÃ¡lido:</strong>
      <span [ngClass]="myForm.valid ? 'text-green-500' : 'text-red-500'">{{ myForm.valid }}</span>
    </div>
    <div class="mt-2">
      <strong>Valores:</strong>
      <pre class="text-xs whitespace-pre-wrap">{{ myForm.value | json }}</pre>
    </div>
     <div class="mt-2" *ngIf="!myForm.valid && myForm.touched">
        <strong>Errores Globales del Formulario:</strong>
        <pre class="text-xs text-red-500 whitespace-pre-wrap">{{ myForm.errors | json }}</pre>
        <strong>Errores por Control:</strong>
        <ul>
            <li *ngFor="let key of objectKeys(myForm.controls)">
                <ng-container *ngIf="myForm.controls[key].errors">
                    <strong>{{ key }}:</strong> {{ myForm.controls[key].errors | json }}
                </ng-container>
            </li>
        </ul>
    </div>
  </div>
-->
</div>
