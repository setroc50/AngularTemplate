

      <div class="">

      <div class="bg-background rounded-lg shadow-xl min-w-12/12 max-w-md max-h-[calc(87vh-4rem)] max-h-md overflow-y-auto pl-6 pr-6 pb-0 relative " >




    <table class="min-w-full border-separate border-spacing-0">
      <!-- Encabezado de la tabla -->
      <thead class="sticky top-0 z-10">
          <tr>

             <th colspan="100" >
    <div class="bg-background relative flex justify-between lg:gap-8 xl:grid xl:grid-cols-12">
        <div class="flex md:absolute md:inset-y-0 md:left-0 lg:static xl:col-span-2">
          <div class="flex shrink-0 items-center justify-start">
            {{name}}
          </div>
        </div>
        <div class="min-w-0 flex-1 md:px-8 lg:px-0 xl:col-span-6">
          <div class="flex items-center px-6 py-4 md:mx-auto md:max-w-3xl lg:mx-0 lg:max-w-none xl:px-0">
            <div class="grid w-full grid-cols-1">
     <input
              type="search"
              name="search"
              [(ngModel)]="searchQuery"
              (input)="applyFilter()"
              class="col-start-1 row-start-1 block w-full rounded-md py-1.5 pl-10 pr-3 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
              placeholder="Buscar"
            >

              <svg class="pointer-events-none col-start-1 row-start-1 ml-3 size-5 self-center text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z" clip-rule="evenodd" />
              </svg>
            </div>
          </div>
        </div>

        <div class="hidden lg:flex lg:items-center lg:justify-end xl:col-span-4">

<app-dynamicpoput-page [layoutGroup]="layoutGroup" [layoutName]="layoutName"  ></app-dynamicpoput-page>

          <!-- Profile dropdown -->



        </div>
      </div>


             </th>
          </tr>
        <tr >




          <th class="w-10 border-b border-gray-300 bg-defaultTextColor/75 text-defaultTextColor py-2 pl-4 pr-3  text-sm font-semibold backdrop-blur backdrop-filter sm:pl-6 lg:pl-8 ">

            <label class="relative flex items-center">

                   <input *ngIf="!single"
              type="checkbox"
              [checked]="selectAll"
              (change)="toggleSelectAll()"
                   class=" peer appearance-none h-4 w-4 border border-border rounded-sm bg-background checked:bg-[color:var(--primary)] checked:border-[color:var(--primary)] focus:outline-none"


              [disabled]="single"
            />



  <svg
    class="pointer-events-none absolute left-0 top-0 h-4 w-4 text-white opacity-0 peer-checked:opacity-100"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="3"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="20 6 9 17 4 12" />
  </svg>
</label>

          </th>
          <th *ngFor="let col of columns" class=" w-10 hidden border-b border-gray-300 bg-defaultTextColor/75 text-background px-3 text-center text-sm font-semibold  backdrop-blur backdrop-filter sm:table-cell  sm:pl-6 lg:pl-8">
            {{ col.label }}
          </th>

        </tr>
      </thead>
      <!-- Cuerpo de la tabla -->
      <tbody>
        <tr *ngFor="let row of paginatedData" class="w-10 text-defaultTextColor  hover:bg-defaultTextColor/75 hover:text-background">
          <td class="border-b border-gray-200 py-1 pl-1 pr-1 text-sm font-medium  sm:pl-6 lg:pl-8">
       <label class=" relative flex items-center">
  <input
    type="checkbox"
    class=" peer appearance-none h-4 w-4 border border-border rounded-sm bg-background checked:bg-[color:var(--primary)] checked:border-[color:var(--primary)] focus:outline-none"
    [checked]="selectedItems.includes(row)"
    (change)="toggleItemSelection(row)"
  />
  <svg
    class="pointer-events-none absolute left-0 top-0 h-4 w-4 text-white opacity-0 peer-checked:opacity-100"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="3"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="20 6 9 17 4 12" />
  </svg>
</label>
          </td>

          <td *ngFor="let col of columns" class="whitespace-nowrap border-b border-gray-200 py-1 pl-1 pr-1 text-center text-sm font-small     sm:pl-6 lg:pl-8 ">


<div [ngClass]="{
  'max-w-[300px] break-words whitespace-normal': col.separateWords
}">

            @if (col.field == 'actions')
            {

                <ng-container *ngTemplateOutlet="rowTemplate; context: { $implicit: row, identifier: row[identifier] }"></ng-container>

        }
            @if (row[col.field] != 'Action')
            {
                {{ row[col.field] || '' }}

            }
</div>
          </td>

        </tr>
      </tbody>

<tfoot class="sticky bottom-0 bg-background z-8 shadow-md border-0">
  <tr>
    <td colspan="100" class="border-0">
      <div class="flex items-center justify-between px-6 py-3">
        <!-- Bot칩n Anterior -->
        <button
          (click)="changePage(currentPage - 1)"
          [disabled]="currentPage === 1"
          class="bg-gray-200 text-gray-700 rounded-lg px-4 py-2 disabled:opacity-50"
        >
          Anterior
        </button>

        <!-- P치gina actual -->
        <span class="text-sm text-gray-700">
          P치gina {{ currentPage }} de {{ totalPages }}
        </span>

        <!-- Bot칩n Siguiente -->
        <button
          (click)="changePage(currentPage + 1)"
          [disabled]="currentPage === totalPages"
          class="bg-gray-200 text-gray-700 rounded-lg px-4 py-2 disabled:opacity-50"
        >
          Siguiente
        </button>
      </div>
    </td>
  </tr>
</tfoot>
    </table>




</div>


</div>
